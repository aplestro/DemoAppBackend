webpackJsonp([1],{"7zck":function(e,t){},AIoX:function(e,t){e.exports={container:"RjyvSjb64f8r7iAvyE3F7_0"}},DYZn:function(e,t){e.exports={container:"_1MqiTqAKzWOdGRRbVYmTy6_0"}},I6FY:function(e,t){e.exports={container:"LPk0Zol-Be7zYzvjDUCdx_0"}},NCpz:function(e,t){e.exports={container:"_3OCToXECAy3jOtb_E-IyJW_0"}},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,s=n("7+uW"),r=n("/ocq"),i=n("Xxa5"),o=n.n(i),l=n("exGp"),c=n.n(l),u=n("mvHQ"),v=n.n(u),h=n("mtWM"),p=n.n(h),d=function(){return new URL(window.location).searchParams.get("aplestro_user_token")},f=this,m=function(e){p.a.post("/newChannel",{channelName:e.channelName,channelAvatar:e.channelAvatar,channelIntentions:e.channelIntentions,isPrivate:e.isPrivate,userID:d()}).then(function(t){e.success(),function(e){var t=e.data.publicID,n=v()({action:"OPEN_CHANNEL",params:{publicID:t}});window.parent.postMessage(n,"*")}(t)}).catch(function(t){e.error(),console.log(t)})},_=(a=c()(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.post("/requestServerUserInfo",{userToken:d()});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e,f)})),function(){return a.apply(this,arguments)}),x={data:function(){return{userData:{}}},methods:{requestAplestro:function(){var e;e=v()({action:"PERMISSIONS_REQUEST",params:{permissions:[{code:"USER_INFO",userText:"the text where the app explain why it need an user info"}]}}),window.parent.postMessage(e,"*")},requestServer:function(){var e=c()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:this.userData=e.sent;case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}},b={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[n("div",{class:e.$style.container},[n("v-btn",{attrs:{flat:""},on:{click:e.requestAplestro}},[e._v("REQUEST USER INFO")]),e._v(" "),n("v-btn",{attrs:{flat:""},on:{click:e.requestServer}},[e._v("SERVER HAS USER INFO")]),e._v(" "),e.userData&&e.userData.userID?n("v-list-tile",{attrs:{avatar:""}},[n("v-list-tile-avatar",[n("img",{attrs:{src:e.userData.userimg}})]),e._v(" "),n("v-list-tile-content",[n("v-list-tile-title",{domProps:{textContent:e._s(e.userData.username)}})],1)],1):e._e()],1)])],1)},staticRenderFns:[]};var I=n("VU/8")(x,b,!1,function(e){this.$style=n("I6FY")},null,null).exports,w={data:function(){return{isLoad:!1,channelName:"",channelAvatar:"",channelIntentions:"",isPrivate:!1}},methods:{createChannel:function(){var e=c()(o.a.mark(function e(){var t=this;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.isLoad=!0,m({channelName:this.channelName,channelAvatar:this.channelAvatar,channelIntentions:this.channelIntentions,isPrivate:this.isPrivate,success:function(){t.isLoad=!1},error:function(){t.isLoad=!1}});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},components:{RequestUserInfo:I}},E={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[e.isLoad?n("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}}):n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[n("div",{class:e.$style.container},[n("v-subheader",[e._v("Create new channel")]),e._v(" "),n("v-text-field",{attrs:{label:"Channel name"},model:{value:e.channelName,callback:function(t){e.channelName=t},expression:"channelName"}}),e._v(" "),n("v-text-field",{attrs:{label:"Channel avatar"},model:{value:e.channelAvatar,callback:function(t){e.channelAvatar=t},expression:"channelAvatar"}}),e._v(" "),n("v-text-field",{attrs:{label:"intentions"},model:{value:e.channelIntentions,callback:function(t){e.channelIntentions=t},expression:"channelIntentions"}}),e._v(" "),n("div",[n("span",[e._v("The Bookmark app uses a code SHARE_OPEN_GRAPH. Paste the code to receive intentions from RSS app")])]),e._v(" "),n("v-checkbox",{attrs:{label:"Private channel"},model:{value:e.isPrivate,callback:function(t){e.isPrivate=t},expression:"isPrivate"}}),e._v(" "),n("v-btn",{attrs:{flat:""},on:{click:e.createChannel}},[e._v("CREATE")])],1),e._v(" "),n("v-divider"),e._v(" "),n("request-user-info")],1)],1)],1)},staticRenderFns:[]};var g=n("VU/8")(w,E,!1,function(e){this.$style=n("NCpz")},null,null).exports,k="TEXT",N="OPEN_GRAPH",R=function(e,t){e.messageType=t,p.a.post("/createNewMessage",e).then(function(e){}).catch(function(e){})},C={data:function(){return{isLoad:!1,channelName:"",channelAvatar:"",channelNameForUser:"",intentions:"",userIntentions:""}},methods:{editChannel:function(){var e=c()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t={channelID:this.$route.params.id,channelName:this.channelName,channelAvatar:this.channelAvatar,channelNameForUser:this.channelNameForUser,channelIntentions:this.intentions,userIntentions:this.userIntentions},p.a.post("/editChannel",{channelID:t.channelID,channelName:t.channelName,channelAvatar:t.channelAvatar,userToken:d(),channelNameForUser:t.channelNameForUser,channelIntentions:t.channelIntentions,userIntentions:t.userIntentions}).then(function(e){}).catch(function(e){});case 1:case"end":return e.stop()}var t},e,this)}));return function(){return e.apply(this,arguments)}}()}},S={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[n("div",{class:e.$style.container},[n("v-subheader",[e._v("Edit channel info")]),e._v(" "),n("v-text-field",{attrs:{label:"Channel name"},model:{value:e.channelName,callback:function(t){e.channelName=t},expression:"channelName"}}),e._v(" "),n("v-text-field",{attrs:{label:"Channel avatar"},model:{value:e.channelAvatar,callback:function(t){e.channelAvatar=t},expression:"channelAvatar"}}),e._v(" "),n("v-text-field",{attrs:{label:"Channel name for this user"},model:{value:e.channelNameForUser,callback:function(t){e.channelNameForUser=t},expression:"channelNameForUser"}}),e._v(" "),n("v-text-field",{attrs:{label:"intentions"},model:{value:e.intentions,callback:function(t){e.intentions=t},expression:"intentions"}}),e._v(" "),n("v-text-field",{attrs:{label:"intentions for this user"},model:{value:e.userIntentions,callback:function(t){e.userIntentions=t},expression:"userIntentions"}}),e._v(" "),n("v-btn",{attrs:{flat:""},on:{click:e.editChannel}},[e._v("EDIT")])],1)])],1)},staticRenderFns:[]};var y={data:function(){return{simpleMessage:"",openGraphText:"",openGraphImg:"",openGraphUrl:"",htmlMessage:""}},methods:{sendSimpleMessage:function(){var e;e={channelID:this.$route.params.id,text:this.simpleMessage},R(e,k)},sendOpenGraphMessage:function(){var e;e={channelID:this.$route.params.id,title:this.openGraphText,image:this.openGraphImg,url:this.openGraphUrl},R(e,N)}}},A={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[n("div",{class:e.$style.container},[n("v-subheader",[e._v("simple text")]),e._v(" "),n("v-text-field",{attrs:{label:"simple text message"},model:{value:e.simpleMessage,callback:function(t){e.simpleMessage=t},expression:"simpleMessage"}}),e._v(" "),n("v-btn",{attrs:{flat:""},on:{click:e.sendSimpleMessage}},[e._v("SEND SIMPLE MESSAGE")]),e._v(" "),n("v-subheader",[e._v("open graph")]),e._v(" "),n("v-text-field",{attrs:{label:"open graph text"},model:{value:e.openGraphText,callback:function(t){e.openGraphText=t},expression:"openGraphText"}}),e._v(" "),n("v-text-field",{attrs:{label:"open graph img url"},model:{value:e.openGraphImg,callback:function(t){e.openGraphImg=t},expression:"openGraphImg"}}),e._v(" "),n("v-text-field",{attrs:{label:"open graph url"},model:{value:e.openGraphUrl,callback:function(t){e.openGraphUrl=t},expression:"openGraphUrl"}}),e._v(" "),n("v-btn",{attrs:{flat:""},on:{click:e.sendOpenGraphMessage}},[e._v("SEND OPEN GRAPH")])],1)])],1)},staticRenderFns:[]};var T={data:function(){return{newCode:"",url:"",targetCode:"",hint:""}},methods:{createNewResource:function(){var e,t,n;e=this.$route.params.id,t=this.newCode,n=this.url,p.a.post("/createNewResource",{url:n,code:t,channelID:e}).then(function(e){}).catch(function(e){})},requestResourceFlow:function(){var e,t,n;e=this.targetCode,t=this.hint,n=v()({action:"REQUEST_RESOURCE_FLOW",params:{code:e,text:t}}),window.parent.postMessage(n,"*")}}},U={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[n("div",{class:e.$style.container},[n("div",[n("span",[e._v("The Sticker app and the Chat app use a code STICKER_IMG. Paste the code to send to the Chat app or receive resources from the Sticker app")])]),e._v(" "),n("v-subheader",[e._v("Create new resource")]),e._v(" "),n("v-text-field",{attrs:{label:"Code"},model:{value:e.newCode,callback:function(t){e.newCode=t},expression:"newCode"}}),e._v(" "),n("v-text-field",{attrs:{label:"data (url recomended)"},model:{value:e.url,callback:function(t){e.url=t},expression:"url"}}),e._v(" "),n("v-btn",{attrs:{flat:""},on:{click:e.createNewResource}},[e._v("CREATE NEW RESOURCE")]),e._v(" "),n("v-subheader",[e._v("Request resource flow")]),e._v(" "),n("v-text-field",{attrs:{label:"Code"},model:{value:e.targetCode,callback:function(t){e.targetCode=t},expression:"targetCode"}}),e._v(" "),n("v-text-field",{attrs:{label:"Message for the dialog"},model:{value:e.hint,callback:function(t){e.hint=t},expression:"hint"}}),e._v(" "),n("v-btn",{attrs:{flat:""},on:{click:e.requestResourceFlow}},[e._v("REQUEST RESOURCE FLOW")])],1)])],1)},staticRenderFns:[]};var P={data:function(){return{code:"",previewText:"",previewImg:"",data:""}},methods:{sendIntention:function(){var e,t,n,a,s;e=this.code,t=this.previewText,n=this.previewImg,a=this.data,s=v()({action:"SEND_INTENTION",params:[{preview:{type:"OPEN_GRAPH",title:t,image:n},intentions:[{code:e,data:a}]}]}),window.parent.postMessage(s,"*")}}},G={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[n("div",{class:e.$style.container},[n("v-subheader",[e._v("Intentions")]),e._v(" "),n("div",[n("span",[e._v("The Bookmark app uses the code SHARE_OPEN_GRAPH. Paste this code to send the intention to the Bookmark app. Insert the RSS intent data you received earlier")])]),e._v(" "),n("v-text-field",{attrs:{label:"intention code"},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}}),e._v(" "),n("v-text-field",{attrs:{label:"preview text"},model:{value:e.previewText,callback:function(t){e.previewText=t},expression:"previewText"}}),e._v(" "),n("v-text-field",{attrs:{label:"preview img (url)"},model:{value:e.previewImg,callback:function(t){e.previewImg=t},expression:"previewImg"}}),e._v(" "),n("v-text-field",{attrs:{label:"intention data"},model:{value:e.data,callback:function(t){e.data=t},expression:"data"}}),e._v(" "),n("v-btn",{attrs:{flat:""},on:{click:e.sendIntention}},[e._v("Send")])],1)])],1)},staticRenderFns:[]};var M={data:function(){return{}},components:{ChangeChannel:n("VU/8")(C,S,!1,function(e){this.$style=n("AIoX")},null,null).exports,Messages:n("VU/8")(y,A,!1,function(e){this.$style=n("DYZn")},null,null).exports,Resource:n("VU/8")(T,U,!1,function(e){this.$style=n("l7sG")},null,null).exports,Intentions:n("VU/8")(P,G,!1,function(e){this.$style=n("bUQ1")},null,null).exports}},F={render:function(){var e=this.$createElement,t=this._self._c||e;return t("v-app",[t("change-channel"),this._v(" "),t("v-divider"),this._v(" "),t("messages"),this._v(" "),t("v-divider"),this._v(" "),t("resource"),this._v(" "),t("v-divider"),this._v(" "),t("intentions")],1)},staticRenderFns:[]};var D=n("VU/8")(M,F,!1,function(e){this.$style=n("RzBY")},null,null).exports;s.default.use(r.a);var $=new r.a({mode:"history",routes:[{path:"/",name:"App",component:g},{path:"/channel/:id",name:"Channel",component:D}]}),O=n("3EgV"),L=n.n(O);n("7zck");s.default.use(L.a),s.default.config.productionTip=!1,new s.default({el:"#app",router:$,template:"<router-view></router-view>"})},RzBY:function(e,t){e.exports={container:"_2T_fygQr6qbBMM_sdkhZxG_0"}},bUQ1:function(e,t){e.exports={container:"_1_XisMeXQHhMLEPMD0SLZ7_0"}},l7sG:function(e,t){e.exports={container:"_1-6zkoSs4Zpiho0TT7L2ny_0"}}},["NHnr"]);
//# sourceMappingURL=app.8a28dbb1d1b2f3df5300.js.map